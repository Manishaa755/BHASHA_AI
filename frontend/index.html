<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bhasha — Multilingual Voice AI</title>
    <meta name="description"
      content="Bhasha is a multilingual voice AI platform for natural speech interactions across agriculture, education, finance, healthcare, support, and more.">
    <!-- Use provided logo as favicon -->
    <link rel="icon" href="/static/bhasha.png" />
    <style>
    :root{
      color-scheme: dark;
      --bg:#090a0f; --surface:#0f1117; --surface-2:#0b0d13;
      --border:rgba(255,255,255,.08); --text:#e9ecf1; --muted:#a5adbb;
      --brand1:#7c3aed; --brand2:#2563eb; --accent:#f59e0b; --success:#22c55e;
      --radius:18px; --shadow:0 30px 60px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      background:
        radial-gradient(900px 500px at 90% -10%, rgba(124,58,237,.12), transparent 60%),
        radial-gradient(800px 500px at -10% 0%, rgba(37,99,235,.12), transparent 60%),
        var(--bg);
      color:var(--text);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }
    a{color:inherit;text-decoration:none}
    .container{max-width:1200px;margin:0 auto;padding:20px}

    /* Navbar */
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0;}
    .brand{display:flex;gap:10px;align-items:center;font-weight:800;letter-spacing:.2px}
    /* logo image */
    .logo-img {
      width:40px;
      height:40px;
      border-radius:8px;
      object-fit:contain;
      display:block;
      box-shadow:0 8px 28px rgba(37,99,235,.22);
      background: linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:6px;
    }
    .brand .site-title { font-size:16px; margin-left:0; color:var(--text) }
    .menu{display:flex;gap:22px;align-items:center}
    .menu a{color:var(--muted);padding:6px 8px;border-radius:8px}
    .menu a:hover{color:var(--text);background:rgba(255,255,255,.04)}
    .cta{display:flex;gap:10px;align-items:center}
    .btn{border:1px solid var(--border);background:var(--surface-2);padding:10px 14px;border-radius:999px;color:var(--text);cursor:pointer}
    .btn.primary{background:linear-gradient(135deg,var(--brand2),var(--brand1));border:none;color:#fff}

    /* Hero */
    .hero{display:grid;grid-template-columns: 1.2fr 1fr;gap:28px;align-items:center;padding:30px 0 10px 0;}
    .headline{font-size:clamp(28px, 5vw, 44px);font-weight:900;line-height:1.08;margin:0 0 10px 0;}
    .subhead{color:var(--muted);font-size:clamp(14px, 2.3vw, 16px);max-width:750px}
    .actions{display:flex;gap:12px;margin-top:16px;flex-wrap:wrap}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border:1px solid var(--border);border-radius:999px;color:var(--muted);font-size:12px}

    .art{position:relative;min-height:320px;border-radius:var(--radius);background:linear-gradient(135deg, rgba(124,58,237,.18), rgba(37,99,235,.18));border:1px solid var(--border);box-shadow:var(--shadow);overflow:hidden;isolation:isolate;}
    .swirl{--c: rgba(245,158,11,.95);position:absolute;right:-80px;top:-40px;width:520px;height:520px;background:
        radial-gradient(closest-side, var(--c), transparent 70%) 0 0/220px 220px,
        radial-gradient(closest-side, var(--c), transparent 70%) 140px 180px/220px 220px,
        radial-gradient(closest-side, var(--c), transparent 70%) 260px 60px/220px 220px;filter: blur(10px) saturate(95%);opacity:.85; transform: rotate(-18deg);}
    .stripes{position:absolute;inset:0;background:repeating-linear-gradient(135deg, rgba(255,255,255,.08) 0 2px, transparent 2px 8px);mix-blend-mode: overlay;opacity:.35;pointer-events:none;}
    .stars{position:absolute;inset:0;pointer-events:none}
    .stars i{position:absolute;width:4px;height:4px;border-radius:50%;background:rgba(255,255,255,.9);filter:blur(.5px);box-shadow:0 0 12px rgba(255,255,255,.7);}

    /* Products */
    .section{padding:32px 0}
    .section h2{font-size:28px;margin:0 0 10px}
    .muted{color:var(--muted)}
    .grid{display:grid;gap:18px;margin-top:12px;grid-template-columns: repeat(3, minmax(0,1fr));}
    .card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:16px;display:grid;gap:10px;box-shadow:var(--shadow);transition: transform .12s ease, border-color .12s ease;}
    .card:hover{transform:translateY(-2px);border-color:rgba(255,255,255,.14)}
    .tag{display:inline-block;font-size:12px;color:#fff;background:linear-gradient(135deg,var(--brand2),var(--brand1));padding:4px 10px;border-radius:999px}
    .card h3{margin:6px 0 2px 0;font-size:18px}
    .card p{margin:0;color:var(--muted);font-size:14px}
    .list{margin:6px 0 0 16px;color:var(--muted);font-size:14px}
    .card .go{margin-top:8px;display:inline-flex;gap:8px;align-items:center;padding:9px 12px;border-radius:10px;border:1px solid var(--border);background:#121524;color:var(--text)}

    footer{border-top:1px solid var(--border);margin-top:36px;padding:20px 0;color:var(--muted);display:flex;gap:12px;flex-wrap:wrap;justify-content:space-between}

    @media (max-width: 980px){ .hero{grid-template-columns:1fr} .art{order:-1} }
    @media (max-width: 820px){ .grid{grid-template-columns: repeat(2, minmax(0,1fr));} }
    @media (max-width: 540px){ .grid{grid-template-columns: 1fr;} .menu{display:none} .cta{gap:8px} }

    /* ---------------- Chatbot widget styles ---------------- */
    #bhasha-chat-toggle {
      position: fixed; right: 20px; bottom: 20px; width: 64px; height: 64px;
      border-radius: 50%; background: linear-gradient(135deg,var(--brand2),var(--brand1));
      box-shadow: 0 12px 40px rgba(0,0,0,.5); display: grid; place-items: center; cursor: pointer;
      z-index: 9999; transition: transform .12s ease;
    }
    #bhasha-chat-toggle:hover { transform: translateY(-4px); }
    #bhasha-widget {
      position: fixed; right: 20px; bottom: 100px; width: 360px; max-width: calc(100% - 40px);
      background: var(--surface); border-radius: 14px; padding: 12px; box-shadow: 0 20px 60px rgba(0,0,0,.6);
      z-index: 9998; display: none; border: 1px solid var(--border);
    }
    #bhasha-widget h4 { margin: 0 0 8px 0; font-size: 16px; }
    #bhasha-widget .small { font-size: 13px; color: var(--muted); }
    #chat-list { max-height:260px; overflow:auto; display:flex; flex-direction:column; gap:10px; margin-top:8px; padding:6px; }
    .chat-row { display:flex; gap:8px; align-items:flex-start; }
    .chat-bubble { padding:10px 12px; border-radius:12px; max-width:78%; font-size:14px; line-height:1.25; box-shadow: 0 6px 18px rgba(0,0,0,.4); }
    .chat-user { align-self:flex-end; margin-left:auto; background: linear-gradient(180deg, rgba(124,58,237,.14), rgba(37,99,235,.08)); color:var(--text); border:1px solid rgba(124,58,237,.18); }
    .chat-bot { align-self:flex-start; margin-right:auto; background: rgba(255,255,255,.02); color:var(--muted); border:1px solid rgba(255,255,255,.03); }
    #chat-input { width:100%; min-height:56px; padding:8px; border-radius:10px; background:#07080b; border:1px solid rgba(255,255,255,.03); color:var(--text); resize:none; margin-top:8px; }
    .controls { display:flex; gap:8px; margin-top:8px; align-items:center; }
    button { padding:8px 12px; border-radius:10px; border:0; cursor:pointer; font-weight:700 }
    button.primary { background:linear-gradient(135deg,var(--brand2),var(--brand1)); color:#fff }
    button.ghost { background: transparent; border:1px solid rgba(255,255,255,.06); color:var(--muted) }
    @media (max-width:520px) {
      #bhasha-widget { right: 10px; left:10px; bottom: 90px; width: auto; }
      #bhasha-chat-toggle { right: 14px; bottom: 14px; }
    }
    /* ---------------- end widget styles ---------------- */
    </style>
  </head>
  <body>
    <div class="container">
      <!-- NAV -->
      <nav class="nav" aria-label="Main">
        <div class="brand">
          <!-- Use uploaded logo file served from /static -->
          <img src="/static/bhasha.png" alt="Bhasha Logo" class="logo-img" />
          <div class="site-title" aria-label="Bhasha Home"><a href="/static/index.html">Bhasha</a></div>
        </div>

        <div class="menu" role="navigation">
          <a href="#home">Home</a>
          <a href="#products">Products</a>
          <a href="#contact">Contact</a>
        </div>

        <div class="cta" id="cta-area">
          <a class="btn" id="btn-login" href="/static/login.html">Login</a>
          <a class="btn primary" id="btn-signup" href="/static/signup.html">Sign Up</a>
        </div>
      </nav>

      <!-- HERO -->
      <section id="home" class="hero">
        <div>
          <h1 class="headline">Landing Page — <span
              style="color:#fff; text-shadow:0 0 22px rgba(124,58,237,.35)">Bhasha</span></h1>
          <div class="pill" aria-label="Feature tags">Multilingual • Voice • Cross-domain</div>
          <p class="subhead" style="margin-top:10px;">
            A multilingual voice AI platform that allows users to interact using
            natural speech in their native languages across various
            domains—agriculture, education, finance, healthcare, support, and
            more.
          </p>
          <div class="actions">
            <a class="btn primary" id="try-stt" href="/static/stt.html">Try STT Demo</a>
            <a class="btn" href="#products">Explore Products</a>
          </div>
        </div>

        <!-- art -->
        <div class="art" aria-hidden="true">
          <div class="swirl"></div>
          <div class="stripes"></div>
          <div class="stars">
            <i style="left:18%; top:18%"></i>
            <i style="left:64%; top:12%"></i>
            <i style="left:78%; top:46%"></i>
            <i style="left:8%;  top:62%"></i>
          </div>
        </div>
      </section>

      <!-- PRODUCTS -->
      <section id="products" class="section" aria-labelledby="products-title">
        <h2 id="products-title">Products</h2>
        <p class="muted">Everything you need to build world-class multilingual voice agents.</p>

        <div class="grid">
          <article class="card">
            <span class="tag">Speech-to-Text (STT)</span>
            <h3>Accurate transcription in 50+ languages</h3>
            <p>Real-time or batch transcription with industry-leading accuracy.</p>
            <ul class="list">
              <li>Whisper (OpenAI), Google Cloud STT, Microsoft Azure, DeepSpeech</li>
              <li>Handles webm, wav, mp3, ogg; diarization &amp; timestamps (provider-dependent)</li>
            </ul>
            <a class="go" href="/static/stt.html" aria-label="Open STT Demo">Open STT Demo →</a>
          </article>

          <article class="card">
            <span class="tag">Language Detection</span>
            <h3>Auto-detect input language</h3>
            <p>Route requests and pick the right model automatically.</p>
            <ul class="list">
              <li>fastText, langdetect, or built-in APIs</li>
              <li>Confidence scores &amp; fallbacks</li>
            </ul>
            <a class="go" href="/static/langdetect.html" aria-label="Try Language Detector">Try Detector →</a>
          </article>

          <article class="card">
            <span class="tag">Multilingual LLM Reasoning</span>
            <h3>Reason &amp; respond in the user’s language</h3>
            <p>Use top models for understanding and reply generation.</p>
            <ul class="list">
              <li>Gemini, GPT-4o, Mistral, Mixtral</li>
              <li>Few-shot, tools, and RAG integration</li>
            </ul>
            <a class="go" href="/static/reasoning.html" aria-label="Open LLM Chat / Document Reasoning">Open LLM Chat →</a>
          </article>

          <article class="card">
            <span class="tag">Text-to-Speech (TTS)</span>
            <h3>Realistic voices in the same language</h3>
            <p>Turn any reply into natural audio in milliseconds.</p>
            <ul class="list">
              <li>OpenAI TTS, ElevenLabs, Azure TTS, Coqui</li>
              <li>SSML, prosody controls, streaming</li>
            </ul>
            <a class="go" href="/static/tts.html" aria-label="Play TTS Demo">Play TTS Demo →</a>
          </article>

          <article class="card">
            <span class="tag">Voice API</span>
            <h3>Speech-to-Speech (STS)</h3>
            <p>Simple APIs and SDKs for web, iOS, Android, and devices.</p>
            <ul class="list">
              <li>JS/TS SDK, React hooks, mobile kits</li>
              <li>WebSockets, events, and streaming audio</li>
            </ul>
            <a class="go" href="/static/sts.html" aria-label="Play STS Demo">Play STS Demo →</a>
          </article>

          <article class="card">
            <span class="tag">Support &amp; More</span>
            <h3>Secure, scalable &amp; observability-ready</h3>
            <p>Everything you need for production deployments.</p>
            <ul class="list">
              <li>Auth, rate-limits, logging, analytics</li>
              <li>Usage dashboards &amp; alerts</li>
            </ul>
            <a class="go" href="/static/docs.html" aria-label="See Platform Docs">See Platform Docs →</a>
          </article>
        </div>
      </section>

      <!-- FOOTER -->
      <footer id="contact">
        <span>© <span id="y"></span> Bhasha</span>
        <span>
          <a class="muted" href="#privacy">Privacy</a> ·
          <a class="muted" href="#terms">Terms</a> ·
          <a class="muted" href="mailto:hello@bhasha.ai">Contact</a>
        </span>
      </footer>
    </div>

    <!-- Chatbot toggle + widget (text chat only; no client-side API key) -->
    <div id="bhasha-chat-toggle" title="Open Bhasha Chatbot" aria-label="Open chat">💬</div>

    <div id="bhasha-widget" role="dialog" aria-label="Bhasha Chat">
      <h4>Bhasha — Chat</h4>
      <div class="small">Replies are generated server-side using the demo proxy (no API key requested from users).</div>

      <div id="chat-list" aria-live="polite"></div>

      <textarea id="chat-input" placeholder="Type your question and press Send (Enter)..." aria-label="Chat input"></textarea>

      <div class="controls">
        <button id="send-btn" class="primary">Send</button>
        <button id="clear-btn" class="ghost">Clear</button>
      </div>

      <div style="margin-top:8px;display:flex;gap:8px;justify-content:space-between">
        <div class="small">Server: <span id="server-url"></span></div>
        <div class="small">Demo mode</div>
      </div>
    </div>

    <script>
    (function(){
      const API_BASE = location.origin;
      document.getElementById('server-url').textContent = API_BASE;

      const toggle = document.getElementById('bhasha-chat-toggle');
      const widget = document.getElementById('bhasha-widget');
      const sendBtn = document.getElementById('send-btn');
      const clearBtn = document.getElementById('clear-btn');
      const input = document.getElementById('chat-input');
      const chatList = document.getElementById('chat-list');

      function appendBubble(text, who='bot') {
        const row = document.createElement('div');
        row.className = 'chat-row';
        const bubble = document.createElement('div');
        bubble.className = 'chat-bubble ' + (who === 'user' ? 'chat-user' : 'chat-bot');
        bubble.textContent = text;
        row.appendChild(bubble);
        chatList.appendChild(row);
        chatList.scrollTop = chatList.scrollHeight;
      }

      // toggle widget
      toggle.addEventListener('click', ()=> {
        widget.style.display = (widget.style.display === 'block') ? 'none' : 'block';
        if (widget.style.display === 'block') input.focus();
      });

      // clear
      clearBtn.addEventListener('click', ()=> {
        chatList.innerHTML = '';
        input.value = '';
        input.focus();
      });

      // send
      async function sendText() {
        const text = input.value.trim();
        if (!text) return;
        appendBubble(text, 'user');
        input.value = '';
        sendBtn.disabled = true;
        sendBtn.textContent = 'Sending…';
        try {
          const res = await fetch(API_BASE + '/demo/chat_text', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ text })
          });
          if (!res.ok) {
            let errText = '';
            try { const j = await res.json(); errText = j.detail || j.error || JSON.stringify(j); } catch (e) { errText = await res.text(); }
            appendBubble('Server error: ' + res.status + ' — ' + errText, 'bot');
          } else {
            const j = await res.json();
            const reply = j.bot_reply || j.reply || "No reply from server.";
            appendBubble(reply, 'bot');
          }
        } catch (e) {
          appendBubble('Network error: ' + (e.message || e), 'bot');
        } finally {
          sendBtn.disabled = false;
          sendBtn.textContent = 'Send';
        }
      }

      sendBtn.addEventListener('click', sendText);
      input.addEventListener('keydown', (ev)=> {
        if (ev.key === 'Enter' && !ev.shiftKey) {
          ev.preventDefault();
          sendText();
        }
      });

      // close when clicking outside
      document.addEventListener('click', (ev) => {
        if (!widget.contains(ev.target) && !toggle.contains(ev.target)) {
          if (widget.style.display === 'block') widget.style.display = 'none';
        }
      });

      // set year in footer
      document.getElementById('y').textContent = new Date().getFullYear();
    })();
    </script>
  </body>
</html>
